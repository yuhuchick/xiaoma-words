{"version":3,"file":"lucky-draw.js","sources":["pages/lucky-draw/lucky-draw.vue","pages/lucky-draw/lucky-draw.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 状态栏占位 -->\n\t\t<view class=\"status-bar\"></view>\n\t\t\n\t\t<!-- 头部 -->\n\t\t<view class=\"header\">\n\t\t\t<view class=\"back-button\" @click=\"goBack\">\n\t\t\t\t<text class=\"back-icon\">←</text>\n\t\t\t</view>\n\t\t\t<text class=\"title\">积分抽奖</text>\n\t\t\t<view class=\"points-display\">\n\t\t\t\t<text class=\"points-icon\">🎯</text>\n\t\t\t\t<text class=\"points-number\">{{ userPoints.totalPoints }}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 转盘区域 -->\n\t\t<view class=\"wheel-section\">\n\t\t\t<!-- 装饰元素 -->\n\t\t\t<view class=\"decorations\">\n\t\t\t\t<text class=\"decoration-star\">⭐</text>\n\t\t\t\t<text class=\"decoration-heart\">💖</text>\n\t\t\t\t<text class=\"decoration-star\">⭐</text>\n\t\t\t\t<text class=\"decoration-heart\">💖</text>\n\t\t\t\t<text class=\"decoration-star\">⭐</text>\n\t\t\t\t<text class=\"decoration-heart\">💖</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"wheel-container\">\n\t\t\t\t<!-- 转盘背景 -->\n\t\t\t\t<view class=\"wheel-background\" :class=\"{ rotating: isDrawing }\" :style=\"{ transform: `rotate(${rotationAngle}deg)` }\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(prize, index) in prizes\" \n\t\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t\tclass=\"wheel-segment\"\n\t\t\t\t\t\t:style=\"getSegmentStyle(index)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<view class=\"prize-icon\" :style=\"getTextStyle(index)\">{{ prize.icon }}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 转盘中心 -->\n\t\t\t\t<view class=\"wheel-center\">\n\t\t\t\t\t<view class=\"center-circle\">\n\t\t\t\t\t\t<text class=\"center-text\">抽奖</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 指针 -->\n\t\t\t\t<view class=\"pointer\"></view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 抽奖按钮 -->\n\t\t<view class=\"draw-section\">\n\t\t\t<view class=\"draw-info\">\n\t\t\t\t<text class=\"draw-title\">消耗100积分参与抽奖</text>\n\t\t\t\t<text class=\"draw-desc\">点击转盘开始抽奖</text>\n\t\t\t</view>\n\t\t\t<view class=\"draw-button\" @click=\"startDraw\" :class=\"{ disabled: isDrawing || userPoints.totalPoints < 100 }\">\n\t\t\t\t<text class=\"draw-text\">{{ getDrawButtonText() }}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 奖品列表 -->\n\t\t<view class=\"prizes-section\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<text class=\"section-title\">奖品列表</text>\n\t\t\t</view>\n\t\t\t<view class=\"prizes-grid\">\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(prize, index) in prizes\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"prize-item\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"prize-list-icon\">{{ prize.icon }}</view>\n\t\t\t\t\t<text class=\"prize-name\">{{ prize.name }}</text>\n\t\t\t\t\t<text class=\"prize-probability\">{{ prize.probability }}%</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 中奖记录 -->\n\t\t<view class=\"history-section\">\n\t\t\t<view class=\"section-header\">\n\t\t\t\t<text class=\"section-title\">中奖记录</text>\n\t\t\t</view>\n\t\t\t<view class=\"history-list\">\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(record, index) in drawHistory\" \n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"history-item\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"history-icon\">{{ record.icon }}</view>\n\t\t\t\t\t<view class=\"history-content\">\n\t\t\t\t\t\t<text class=\"history-prize\">{{ record.prize }}</text>\n\t\t\t\t\t\t<text class=\"history-time\">{{ record.time }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view v-if=\"drawHistory.length === 0\" class=\"empty-history\">\n\t\t\t\t\t<text class=\"empty-text\">暂无中奖记录</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport pointsManager from '@/utils/pointsManager.js'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuserPoints: {\n\t\t\t\ttotalPoints: 0\n\t\t\t},\n\t\t\tisDrawing: false,\n\t\t\trotationAngle: 0,\n\t\t\tprizes: [\n\t\t\t\t{ name: '谢谢参与', icon: '🐰', probability: 40, points: 0 },\n\t\t\t\t{ name: '10积分', icon: '🐱', probability: 25, points: 10 },\n\t\t\t\t{ name: '20积分', icon: '🐶', probability: 20, points: 20 },\n\t\t\t\t{ name: '50积分', icon: '🐼', probability: 10, points: 50 },\n\t\t\t\t{ name: '100积分', icon: '🦊', probability: 4, points: 100 },\n\t\t\t\t{ name: '200积分', icon: '🐯', probability: 1, points: 200 }\n\t\t\t],\n\t\t\tdrawHistory: []\n\t\t}\n\t},\n\tasync onLoad() {\n\t\t// 初始化积分管理器\n\t\tawait pointsManager.init()\n\t\t\n\t\t// 加载积分数据\n\t\tthis.loadPointsData()\n\t\t\n\t\t// 加载抽奖历史\n\t\tthis.loadDrawHistory()\n\t\t\n\t\t// 测试角度计算\n\t\tthis.testAngleCalculation()\n\t},\n\tmethods: {\n\t\tloadPointsData() {\n\t\t\tthis.userPoints = pointsManager.getUserPoints()\n\t\t},\n\t\t\n\t\tloadDrawHistory() {\n\t\t\t// 从本地存储加载抽奖历史\n\t\t\ttry {\n\t\t\t\tconst history = uni.getStorageSync('drawHistory')\n\t\t\t\tif (history) {\n\t\t\t\t\tthis.drawHistory = JSON.parse(history)\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('加载抽奖历史失败:', error)\n\t\t\t}\n\t\t},\n\t\t\n\t\tsaveDrawHistory() {\n\t\t\ttry {\n\t\t\t\tuni.setStorageSync('drawHistory', JSON.stringify(this.drawHistory))\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('保存抽奖历史失败:', error)\n\t\t\t}\n\t\t},\n\t\t\n\t\tgoBack() {\n\t\t\tuni.navigateBack()\n\t\t},\n\t\t\n\t\tgetSegmentStyle(index) {\n\t\t\tconst segmentAngle = 360 / this.prizes.length\n\t\t\tconst startAngle = index * segmentAngle\n\t\t\tconst centerAngle = startAngle + segmentAngle / 2\n\t\t\t\n\t\t\treturn {\n\t\t\t\ttransform: `rotate(${startAngle}deg)`,\n\t\t\t\tbackground: this.getSegmentColor(index)\n\t\t\t}\n\t\t},\n\t\t\n\t\tgetTextStyle(index) {\n\t\t\tconst segmentAngle = 360 / this.prizes.length\n\t\t\tconst startAngle = index * segmentAngle\n\t\t\tconst centerAngle = startAngle + segmentAngle / 2\n\t\t\t\n\t\t\treturn {\n\t\t\t\ttransform: `rotate(${centerAngle}deg)`,\n\t\t\t\ttransformOrigin: 'center center'\n\t\t\t}\n\t\t},\n\t\t\n\t\tgetSegmentColor(index) {\n\t\t\tconst colors = [\n\t\t\t\t'#E8B4CB', '#B8E6B8', '#FFE5B4', \n\t\t\t\t'#B4D4E8', '#E6D4B4', '#D4B4E8'\n\t\t\t]\n\t\t\treturn colors[index % colors.length]\n\t\t},\n\t\t\n\t\tgetDrawButtonText() {\n\t\t\tif (this.isDrawing) {\n\t\t\t\treturn '抽奖中...'\n\t\t\t} else if (this.userPoints.totalPoints < 100) {\n\t\t\t\treturn '积分不足'\n\t\t\t} else {\n\t\t\t\treturn '开始抽奖'\n\t\t\t}\n\t\t},\n\t\t\n\t\tstartDraw() {\n\t\t\tif (this.isDrawing || this.userPoints.totalPoints < 100) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tthis.isDrawing = true\n\t\t\t\n\t\t\t// 消耗积分\n\t\t\tconst result = pointsManager.usePoints(100, '转盘抽奖')\n\t\t\t\n\t\t\tif (!result.success) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: result.message,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\tthis.isDrawing = false\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\t// 随机选择奖品\n\t\t\tconst randomPrize = this.getRandomPrize()\n\t\t\t\n\t\t\t// 计算旋转角度\n\t\t\t// 转盘扇形区域从右侧（3点钟方向）开始，顺时针排列\n\t\t\t// 指针在顶部（12点钟方向），需要让指针指向目标扇形区域\n\t\t\tconst prizeIndex = this.prizes.findIndex(p => p.name === randomPrize.name)\n\t\t\tconst segmentAngle = 360 / this.prizes.length\n\t\t\t\n\t\t\t// 计算目标扇形区域的中心角度（相对于转盘中心）\n\t\t\tconst segmentCenterAngle = prizeIndex * segmentAngle + segmentAngle / 2\n\t\t\t\n\t\t\t// 转盘需要逆时针旋转，让指针指向目标扇形区域\n\t\t\t// 由于扇形区域从右侧开始（3点钟方向），指针在顶部（12点钟方向）\n\t\t\t// 需要旋转的角度 = 扇形中心角度 - 90度\n\t\t\tconst targetAngle = segmentCenterAngle - 90\n\t\t\t\n\t\t\t// 计算需要旋转的角度，每次都是固定的6圈加上目标角度\n\t\t\tconst additionalRotation = 360 * 6 + targetAngle\n\t\t\tconst totalRotation = this.rotationAngle + additionalRotation\n\t\t\t\n\t\t\t// 调试信息\n\t\t\tconsole.log('抽奖信息:', {\n\t\t\t\tprize: randomPrize.name,\n\t\t\t\tprizeIndex: prizeIndex,\n\t\t\t\tsegmentAngle: segmentAngle,\n\t\t\t\tsegmentCenterAngle: segmentCenterAngle,\n\t\t\t\ttargetAngle: targetAngle,\n\t\t\t\ttotalRotation: totalRotation\n\t\t\t})\n\t\t\t\n\t\t\t// 开始旋转动画\n\t\t\tthis.rotationAngle = totalRotation\n\t\t\t\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.showDrawResult(randomPrize)\n\t\t\t\tthis.isDrawing = false\n\t\t\t}, 4000)\n\t\t},\n\t\t\n\t\tgetRandomPrize() {\n\t\t\tconst random = Math.random() * 100\n\t\t\tlet cumulativeProbability = 0\n\t\t\t\n\t\t\tfor (const prize of this.prizes) {\n\t\t\t\tcumulativeProbability += prize.probability\n\t\t\t\tif (random <= cumulativeProbability) {\n\t\t\t\t\treturn prize\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn this.prizes[0] // 默认返回谢谢参与\n\t\t},\n\t\t\n\t\tshowDrawResult(prize) {\n\t\t\t// 如果中奖了，添加积分\n\t\t\tif (prize.points > 0) {\n\t\t\t\tpointsManager.userPointsData.totalPoints += prize.points\n\t\t\t\tpointsManager.userPointsData.earnedPoints += prize.points\n\t\t\t\tpointsManager.saveToStorage()\n\t\t\t}\n\t\t\t\n\t\t\t// 记录抽奖历史\n\t\t\tconst historyItem = {\n\t\t\t\tprize: prize.name,\n\t\t\t\ticon: prize.icon,\n\t\t\t\ttime: new Date().toLocaleString()\n\t\t\t}\n\t\t\tthis.drawHistory.unshift(historyItem)\n\t\t\t\n\t\t\t// 只保留最近10条记录\n\t\t\tif (this.drawHistory.length > 10) {\n\t\t\t\tthis.drawHistory = this.drawHistory.slice(0, 10)\n\t\t\t}\n\t\t\t\n\t\t\tthis.saveDrawHistory()\n\t\t\t\n\t\t\t// 更新积分显示\n\t\t\tthis.loadPointsData()\n\t\t\t\n\t\t\t// 显示结果\n\t\t\tif (prize.points > 0) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: `恭喜中奖！${prize.icon}`,\n\t\t\t\t\tcontent: `获得${prize.name}！\\n当前积分：${pointsManager.userPointsData.totalPoints}`,\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: '太棒了'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: `很遗憾 ${prize.icon}`,\n\t\t\t\t\tcontent: '本次未中奖，再接再厉！\\n当前积分：' + pointsManager.userPointsData.totalPoints,\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: '继续努力'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 测试角度计算方法\n\t\ttestAngleCalculation() {\n\t\t\tconsole.log('=== 角度计算测试 ===')\n\t\t\tthis.prizes.forEach((prize, index) => {\n\t\t\t\tconst segmentAngle = 360 / this.prizes.length\n\t\t\t\tconst segmentCenterAngle = index * segmentAngle + segmentAngle / 2\n\t\t\t\tconst targetAngle = segmentCenterAngle - 90\n\t\t\t\t\n\t\t\t\tconsole.log(`奖品${index}: ${prize.name} (${prize.icon})`)\n\t\t\t\tconsole.log(`  扇形角度: ${segmentAngle}°`)\n\t\t\t\tconsole.log(`  扇形中心角度: ${segmentCenterAngle}°`)\n\t\t\t\tconsole.log(`  目标旋转角度: ${targetAngle}°`)\n\t\t\t\tconsole.log('---')\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.container {\n\tmin-height: 100vh;\n\tbackground: linear-gradient(135deg, #F5F5DC 0%, #F0E68C 100%);\n\tpadding: 0;\n}\n\n.status-bar {\n\theight: 44px;\n\twidth: 100%;\n}\n\n.header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 30rpx;\n\tcolor: #8B4513;\n\tbackground: rgba(255, 255, 255, 0.3);\n\tbackdrop-filter: blur(10rpx);\n\tborder-bottom: 1rpx solid rgba(255, 255, 255, 0.4);\n}\n\n.back-button {\n\twidth: 70rpx;\n\theight: 70rpx;\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0.2) 100%);\n\tborder-radius: 50%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbox-shadow: \n\t\t0 4rpx 16rpx rgba(0, 0, 0, 0.1),\n\t\tinset 0 2rpx 8rpx rgba(255, 255, 255, 0.5);\n\tborder: 1rpx solid rgba(255, 255, 255, 0.5);\n\ttransition: all 0.3s ease;\n}\n\n.back-button:active {\n\ttransform: scale(0.95);\n\tbox-shadow: \n\t\t0 2rpx 8rpx rgba(0, 0, 0, 0.2),\n\t\tinset 0 2rpx 8rpx rgba(255, 255, 255, 0.3);\n}\n\n.back-icon {\n\tfont-size: 36rpx;\n\tcolor: #8B4513;\n\tfont-weight: 600;\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.5);\n}\n\n.title {\n\tfont-size: 38rpx;\n\tfont-weight: 700;\n\tcolor: #8B4513;\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.5);\n\tletter-spacing: 2rpx;\n}\n\n.points-display {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 12rpx;\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.5) 0%, rgba(255, 255, 255, 0.2) 100%);\n\tpadding: 18rpx 25rpx;\n\tborder-radius: 30rpx;\n\tbox-shadow: \n\t\t0 4rpx 16rpx rgba(0, 0, 0, 0.1),\n\t\tinset 0 2rpx 8rpx rgba(255, 255, 255, 0.5);\n\tborder: 1rpx solid rgba(255, 255, 255, 0.5);\n}\n\n.points-icon {\n\tfont-size: 36rpx;\n\tfilter: drop-shadow(0 1rpx 2rpx rgba(0, 0, 0, 0.2));\n}\n\n.points-number {\n\tfont-size: 34rpx;\n\tfont-weight: 700;\n\tcolor: #8B4513;\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.5);\n}\n\n.wheel-section {\n\tdisplay: flex;\n\tjustify-content: center;\n\tpadding: 50rpx 30rpx;\n}\n\n.wheel-container {\n\tposition: relative;\n\twidth: 600rpx;\n\theight: 600rpx;\n\tperspective: 1000rpx;\n}\n\n.wheel-background {\n\twidth: 100%;\n\theight: 100%;\n\tborder-radius: 50%;\n\tposition: relative;\n\toverflow: hidden;\n\tbox-shadow: \n\t\t0 15rpx 45rpx rgba(0, 0, 0, 0.15),\n\t\t0 8rpx 25rpx rgba(0, 0, 0, 0.1),\n\t\tinset 0 2rpx 8rpx rgba(255, 255, 255, 0.4);\n\ttransition: transform 4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n\tborder: 10rpx solid rgba(255, 255, 255, 0.9);\n\ttransform-style: preserve-3d;\n\ttransform: rotate(0deg);\n\twill-change: transform;\n\tbackface-visibility: hidden;\n}\n\n.wheel-background.rotating {\n\ttransform: rotate(v-bind(rotationAngle + 'deg'));\n}\n\n.wheel-segment {\n\tposition: absolute;\n\twidth: 50%;\n\theight: 50%;\n\ttransform-origin: 100% 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tclip-path: polygon(0 0, 100% 0, 100% 100%);\n\tbox-shadow: inset 0 1rpx 4rpx rgba(0, 0, 0, 0.1);\n\tborder-right: 1rpx solid rgba(255, 255, 255, 0.5);\n}\n\n.wheel-segment::before {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, transparent 50%, rgba(0, 0, 0, 0.05) 100%);\n\tpointer-events: none;\n}\n\n.wheel-center {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\tz-index: 10;\n}\n\n.center-circle {\n\twidth: 150rpx;\n\theight: 150rpx;\n\tbackground: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\n\tborder-radius: 50%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbox-shadow: \n\t\t0 10rpx 30rpx rgba(0, 0, 0, 0.15),\n\t\t0 5rpx 15rpx rgba(0, 0, 0, 0.1),\n\t\tinset 0 2rpx 8rpx rgba(255, 255, 255, 0.8);\n\tborder: 5rpx solid rgba(255, 255, 255, 0.9);\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.center-circle::before {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: linear-gradient(135deg, rgba(255, 255, 255, 0.5) 0%, transparent 50%);\n\tborder-radius: 50%;\n}\n\n.center-text {\n\tfont-size: 32rpx;\n\tcolor: #4A90E2;\n\tfont-weight: 700;\n\ttext-shadow: 0 1rpx 2rpx rgba(0, 0, 0, 0.1);\n\tposition: relative;\n\tz-index: 2;\n\tletter-spacing: 2rpx;\n}\n\n.pointer {\n\tposition: absolute;\n\ttop: -35rpx;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\twidth: 0;\n\theight: 0;\n\tborder-left: 28rpx solid transparent;\n\tborder-right: 28rpx solid transparent;\n\tborder-top: 55rpx solid #ffffff;\n\tz-index: 5;\n\tfilter: drop-shadow(0 3rpx 6rpx rgba(0, 0, 0, 0.2));\n}\n\n.pointer::after {\n\tcontent: '';\n\tposition: absolute;\n\ttop: -55rpx;\n\tleft: -28rpx;\n\twidth: 0;\n\theight: 0;\n\tborder-left: 28rpx solid transparent;\n\tborder-right: 28rpx solid transparent;\n\tborder-top: 55rpx solid rgba(255, 255, 255, 0.7);\n}\n\n.draw-section {\n\tpadding: 40rpx 30rpx;\n\ttext-align: center;\n\tbackground: rgba(255, 255, 255, 0.3);\n\tbackdrop-filter: blur(10rpx);\n\tmargin: 0 30rpx;\n\tborder-radius: 25rpx;\n\tborder: 1rpx solid rgba(255, 255, 255, 0.4);\n\tbox-shadow: \n\t\t0 8rpx 32rpx rgba(0, 0, 0, 0.1),\n\t\tinset 0 2rpx 8rpx rgba(255, 255, 255, 0.3);\n}\n\n.draw-info {\n\tmargin-bottom: 35rpx;\n}\n\n.draw-title {\n\tfont-size: 34rpx;\n\tcolor: #8B4513;\n\tfont-weight: 700;\n\tdisplay: block;\n\tmargin-bottom: 12rpx;\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.5);\n\tletter-spacing: 1rpx;\n}\n\n.draw-desc {\n\tfont-size: 28rpx;\n\tcolor: rgba(139, 69, 19, 0.8);\n\tfont-weight: 500;\n\ttext-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.3);\n}\n\n.draw-button {\n\tbackground: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);\n\tpadding: 35rpx 70rpx;\n\tborder-radius: 50rpx;\n\tbox-shadow: \n\t\t0 12rpx 40rpx rgba(255, 107, 107, 0.4),\n\t\t0 6rpx 20rpx rgba(255, 107, 107, 0.3),\n\t\tinset 0 2rpx 8rpx rgba(255, 255, 255, 0.3);\n\ttransition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n\tborder: 2rpx solid rgba(255, 255, 255, 0.3);\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.draw-button::before {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: -100%;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n\ttransition: left 0.5s ease;\n}\n\n.draw-button:hover::before {\n\tleft: 100%;\n}\n\n.draw-button.disabled {\n\tbackground: linear-gradient(135deg, #cccccc 0%, #bbbbbb 100%);\n\tbox-shadow: \n\t\t0 6rpx 20rpx rgba(0, 0, 0, 0.2),\n\t\tinset 0 2rpx 8rpx rgba(255, 255, 255, 0.1);\n\tborder: 2rpx solid rgba(255, 255, 255, 0.1);\n}\n\n.draw-button:active:not(.disabled) {\n\ttransform: scale(0.95) translateY(2rpx);\n\tbox-shadow: \n\t\t0 6rpx 20rpx rgba(255, 107, 107, 0.3),\n\t\t0 3rpx 10rpx rgba(255, 107, 107, 0.2),\n\t\tinset 0 2rpx 8rpx rgba(255, 255, 255, 0.3);\n}\n\n.draw-text {\n\tfont-size: 34rpx;\n\tcolor: #ffffff;\n\tfont-weight: 700;\n\ttext-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.3);\n\tletter-spacing: 2rpx;\n\tposition: relative;\n\tz-index: 2;\n}\n\n.prizes-section {\n\tbackground: linear-gradient(135deg, #ffffff 0%, #f8fbff 100%);\n\tmargin: 30rpx;\n\tborder-radius: 25rpx;\n\tpadding: 35rpx;\n\tbox-shadow: \n\t\t0 12rpx 40rpx rgba(0, 0, 0, 0.1),\n\t\t0 6rpx 20rpx rgba(0, 0, 0, 0.08);\n\tborder: 1rpx solid rgba(255, 255, 255, 0.8);\n}\n\n.section-header {\n\tmargin-bottom: 25rpx;\n}\n\n.section-title {\n\tfont-size: 32rpx;\n\tfont-weight: 600;\n\tcolor: #2c3e50;\n}\n\n.prizes-grid {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgap: 20rpx;\n}\n\n.prize-item {\n\ttext-align: center;\n\tpadding: 25rpx 20rpx;\n\tbackground: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);\n\tborder-radius: 20rpx;\n\tbox-shadow: \n\t\t0 4rpx 16rpx rgba(0, 0, 0, 0.08),\n\t\tinset 0 1rpx 4rpx rgba(255, 255, 255, 0.8);\n\tborder: 1rpx solid rgba(0, 0, 0, 0.05);\n\ttransition: all 0.3s ease;\n}\n\n.prize-item:hover {\n\ttransform: translateY(-2rpx);\n\tbox-shadow: \n\t\t0 8rpx 24rpx rgba(0, 0, 0, 0.12),\n\t\tinset 0 1rpx 4rpx rgba(255, 255, 255, 0.8);\n}\n\n.prize-list-icon {\n\tfont-size: 44rpx;\n\tmargin-bottom: 12rpx;\n\tfilter: drop-shadow(0 2rpx 4rpx rgba(0, 0, 0, 0.1));\n}\n\n.prize-name {\n\tfont-size: 26rpx;\n\tcolor: #2c3e50;\n\tfont-weight: 600;\n\tdisplay: block;\n\tmargin-bottom: 6rpx;\n}\n\n.prize-probability {\n\tfont-size: 22rpx;\n\tcolor: #6c757d;\n\tfont-weight: 500;\n}\n\n.history-section {\n\tbackground: linear-gradient(135deg, #ffffff 0%, #f8fbff 100%);\n\tmargin: 30rpx;\n\tborder-radius: 25rpx;\n\tpadding: 35rpx;\n\tbox-shadow: \n\t\t0 12rpx 40rpx rgba(0, 0, 0, 0.1),\n\t\t0 6rpx 20rpx rgba(0, 0, 0, 0.08);\n\tborder: 1rpx solid rgba(255, 255, 255, 0.8);\n\tmargin-bottom: 50rpx;\n}\n\n.history-list {\n\tmax-height: 400rpx;\n\toverflow-y: auto;\n}\n\n.history-item {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 25rpx 0;\n\tborder-bottom: 1rpx solid rgba(241, 243, 244, 0.8);\n\ttransition: all 0.3s ease;\n}\n\n.history-item:hover {\n\tbackground: rgba(248, 249, 250, 0.5);\n\tborder-radius: 15rpx;\n\tpadding-left: 15rpx;\n\tpadding-right: 15rpx;\n\tmargin-left: -15rpx;\n\tmargin-right: -15rpx;\n}\n\n.history-item:last-child {\n\tborder-bottom: none;\n}\n\n.history-icon {\n\tfont-size: 36rpx;\n\tmargin-right: 25rpx;\n\tfilter: drop-shadow(0 2rpx 4rpx rgba(0, 0, 0, 0.1));\n}\n\n.history-content {\n\tflex: 1;\n}\n\n.history-prize {\n\tfont-size: 30rpx;\n\tcolor: #2c3e50;\n\tfont-weight: 600;\n\tdisplay: block;\n\tmargin-bottom: 6rpx;\n}\n\n.history-time {\n\tfont-size: 24rpx;\n\tcolor: #6c757d;\n\tfont-weight: 500;\n}\n\n.empty-history {\n\ttext-align: center;\n\tpadding: 60rpx 0;\n}\n\n.empty-text {\n\tfont-size: 26rpx;\n\tcolor: #6c757d;\n}\n\n.prize-icon {\n\tfont-size: 65rpx;\n\tcolor: #ffffff;\n\ttext-align: center;\n\tfilter: drop-shadow(0 4rpx 8rpx rgba(0, 0, 0, 0.4));\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 90rpx;\n\tleft: 50%;\n\ttop: 28%;\n\tmargin-left: -45rpx;\n\ttransform-origin: center 150rpx;\n\ttext-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.6);\n\tanimation: iconFloat 3s ease-in-out infinite;\n}\n\n@keyframes iconFloat {\n\t0%, 100% {\n\t\ttransform: translateY(0rpx);\n\t}\n\t50% {\n\t\ttransform: translateY(-3rpx);\n\t}\n}\n\n.decorations {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tz-index: 1;\n\tpointer-events: none;\n}\n\n.decoration-star, .decoration-heart {\n\tposition: absolute;\n\tfont-size: 30rpx;\n\tcolor: rgba(255, 255, 255, 0.6);\n\tfilter: drop-shadow(0 2rpx 4rpx rgba(0, 0, 0, 0.1));\n\tanimation: float 4s ease-in-out infinite;\n}\n\n.decoration-star:nth-child(1) {\n\ttop: 10%;\n\tleft: 10%;\n\tanimation-delay: 0s;\n}\n\n.decoration-heart:nth-child(2) {\n\ttop: 15%;\n\tright: 15%;\n\tanimation-delay: 0.5s;\n}\n\n.decoration-star:nth-child(3) {\n\tbottom: 20%;\n\tleft: 20%;\n\tanimation-delay: 1s;\n}\n\n.decoration-heart:nth-child(4) {\n\tbottom: 15%;\n\tright: 10%;\n\tanimation-delay: 1.5s;\n}\n\n.decoration-star:nth-child(5) {\n\ttop: 50%;\n\tleft: 5%;\n\tanimation-delay: 2s;\n}\n\n.decoration-heart:nth-child(6) {\n\ttop: 50%;\n\tright: 5%;\n\tanimation-delay: 2.5s;\n}\n\n@keyframes float {\n\t0%, 100% {\n\t\ttransform: translateY(0rpx);\n\t}\n\t50% {\n\t\ttransform: translateY(-5rpx);\n\t}\n}\n</style>\n","import MiniProgramPage from '/Users/david/Documents/HBuilderProjects/xiaoma-words/pages/lucky-draw/lucky-draw.vue'\nwx.createPage(MiniProgramPage)"],"names":["pointsManager","uni"],"mappings":"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"}