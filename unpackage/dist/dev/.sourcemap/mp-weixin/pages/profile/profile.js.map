{"version":3,"file":"profile.js","sources":["pages/profile/profile.vue","pages/profile/profile.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 状态栏占位 -->\n\t\t<view class=\"status-bar\"></view>\n\t\t\n\t\t<!-- 头部标题 -->\n\t\t<view class=\"header\">\n\t\t\t<text class=\"title\">个人中心</text>\n\t\t</view>\n\t\t\n\t\t<!-- 用户信息 -->\n\t\t<view class=\"user-section\">\n\t\t\t<view class=\"user-info\">\n\t\t\t\t<view class=\"avatar\">\n\t\t\t\t\t<image src=\"/static/avatar.svg\" mode=\"aspectFill\"></image>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"user-details\">\n\t\t\t\t\t<view class=\"name-level\">\n\t\t\t\t\t\t<text class=\"name\">学习达人</text>\n\t\t\t\t\t\t<view class=\"level-badge\">\n\t\t\t\t\t\t\t<text class=\"level-text\">LV.8</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"user-desc\">坚持学习，成就更好的自己</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"user-score\">\n\t\t\t\t<text class=\"score-text\">{{ userPoints.totalPoints }}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 积分卡片 -->\n\t\t<view class=\"points-card\">\n\t\t\t<view class=\"points-header\">\n\t\t\t\t<text class=\"points-title\">我的积分</text>\n\t\t\t\t<view class=\"points-icon\">🎯</view>\n\t\t\t</view>\n\t\t\t<view class=\"points-content\">\n\t\t\t\t<view class=\"points-main\">\n\t\t\t\t\t<text class=\"points-number\">{{ userPoints.totalPoints }}</text>\n\t\t\t\t\t<text class=\"points-label\">总积分</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"points-stats\">\n\t\t\t\t\t<view class=\"points-stat\">\n\t\t\t\t\t\t<text class=\"stat-number\">{{ userPoints.earnedPoints }}</text>\n\t\t\t\t\t\t<text class=\"stat-label\">已获得</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"points-stat\">\n\t\t\t\t\t\t<text class=\"stat-number\">{{ userPoints.usedPoints }}</text>\n\t\t\t\t\t\t<text class=\"stat-label\">已使用</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 统计数据卡片 -->\n\t\t<view class=\"stats-cards\">\n\t\t\t<view class=\"stat-card blue\">\n\t\t\t\t<text class=\"stat-title\">总学习天数</text>\n\t\t\t\t<view class=\"stat-number\">\n\t\t\t\t\t<text class=\"number\">126</text>\n\t\t\t\t\t<text class=\"unit\">天</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"stat-desc\">坚持学习</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"stat-card green\">\n\t\t\t\t<text class=\"stat-title\">掌握单词</text>\n\t\t\t\t<view class=\"stat-number\">\n\t\t\t\t\t<text class=\"number\">1850+</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"stat-desc\">词汇量</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"stat-card orange\">\n\t\t\t\t<text class=\"stat-title\">学习时长</text>\n\t\t\t\t<view class=\"stat-number\">\n\t\t\t\t\t<text class=\"number\">368</text>\n\t\t\t\t\t<text class=\"unit\">小时</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"stat-desc\">累计学习</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 功能菜单 -->\n\t\t<view class=\"menu-section\">\n\t\t\t<view class=\"menu-item\" @click=\"goToPointsHistory\">\n\t\t\t\t<view class=\"menu-icon purple\">\n\t\t\t\t\t<text class=\"icon-text\">📈</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"menu-text\">积分记录</text>\n\t\t\t\t<view class=\"menu-arrow\">\n\t\t\t\t\t<text class=\"arrow-text\">></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"menu-item\" @click=\"goToLuckyDraw\">\n\t\t\t\t<view class=\"menu-icon gold\">\n\t\t\t\t\t<text class=\"icon-text\">🎁</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"menu-text\">积分抽奖</text>\n\t\t\t\t<view class=\"menu-arrow\">\n\t\t\t\t\t<text class=\"arrow-text\">></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"menu-item\" @click=\"goToGoalSettings\">\n\t\t\t\t<view class=\"menu-icon blue\">\n\t\t\t\t\t<text class=\"icon-text\">📁</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"menu-text\">学习目标设置</text>\n\t\t\t\t<view class=\"menu-arrow\">\n\t\t\t\t\t<text class=\"arrow-text\">></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"menu-item\" @click=\"goToStatistics\">\n\t\t\t\t<view class=\"menu-icon orange\">\n\t\t\t\t\t<text class=\"icon-text\">📊</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"menu-text\">学习统计</text>\n\t\t\t\t<view class=\"menu-arrow\">\n\t\t\t\t\t<text class=\"arrow-text\">></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"menu-item\" @click=\"goToReminders\">\n\t\t\t\t<view class=\"menu-icon red\">\n\t\t\t\t\t<text class=\"icon-text\">⏰</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"menu-text\">提醒设置</text>\n\t\t\t\t<view class=\"menu-arrow\">\n\t\t\t\t\t<text class=\"arrow-text\">></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"menu-item\" @click=\"goToHelp\">\n\t\t\t\t<view class=\"menu-icon green\">\n\t\t\t\t\t<text class=\"icon-text\">💬</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"menu-text\">帮助反馈</text>\n\t\t\t\t<view class=\"menu-arrow\">\n\t\t\t\t\t<text class=\"arrow-text\">></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport pointsManager from '@/utils/pointsManager.js'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuserPoints: {\n\t\t\t\ttotalPoints: 0,\n\t\t\t\tearnedPoints: 0,\n\t\t\t\tusedPoints: 0\n\t\t\t}\n\t\t}\n\t},\n\tasync onLoad() {\n\t\t// 初始化积分管理器\n\t\tawait pointsManager.init()\n\t\t\n\t\t// 加载积分数据\n\t\tthis.loadPointsData()\n\t},\n\tmethods: {\n\t\tloadPointsData() {\n\t\t\t// 获取用户积分信息\n\t\t\tthis.userPoints = pointsManager.getUserPoints()\n\t\t},\n\t\t\n\t\tgoToGoalSettings() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/goal-settings/goal-settings'\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoToStatistics() {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '学习统计',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoToReminders() {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '提醒设置',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoToHelp() {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '帮助反馈',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoToPointsHistory() {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '积分记录',\n\t\t\t\tcontent: '查看详细的积分获得和使用记录',\n\t\t\t\tshowCancel: false,\n\t\t\t\tconfirmText: '知道了'\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoToLuckyDraw() {\n\t\t\tif (this.userPoints.totalPoints < 100) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '积分不足',\n\t\t\t\t\tcontent: '抽奖需要100积分，当前积分不足',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: '去签到'\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/lucky-draw/lucky-draw'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\tperformLuckyDraw() {\n\t\t\tconst result = pointsManager.usePoints(100, '积分抽奖')\n\t\t\t\n\t\t\tif (result.success) {\n\t\t\t\t// 模拟抽奖结果\n\t\t\t\tconst prizes = [\n\t\t\t\t\t{ name: '谢谢参与', points: 0 },\n\t\t\t\t\t{ name: '10积分', points: 10 },\n\t\t\t\t\t{ name: '20积分', points: 20 },\n\t\t\t\t\t{ name: '50积分', points: 50 },\n\t\t\t\t\t{ name: '100积分', points: 100 }\n\t\t\t\t]\n\t\t\t\t\n\t\t\t\tconst randomPrize = prizes[Math.floor(Math.random() * prizes.length)]\n\t\t\t\t\n\t\t\t\tif (randomPrize.points > 0) {\n\t\t\t\t\t// 如果中奖了，添加积分\n\t\t\t\t\tpointsManager.userPointsData.totalPoints += randomPrize.points\n\t\t\t\t\tpointsManager.userPointsData.earnedPoints += randomPrize.points\n\t\t\t\t\tpointsManager.saveToStorage()\n\t\t\t\t\t\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '恭喜中奖！',\n\t\t\t\t\t\tcontent: `获得${randomPrize.name}！\\n当前积分：${pointsManager.userPointsData.totalPoints}`,\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: '太棒了'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '很遗憾',\n\t\t\t\t\t\tcontent: '本次未中奖，再接再厉！\\n当前积分：' + result.remainingPoints,\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: '继续努力'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 更新显示\n\t\t\t\tthis.loadPointsData()\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: result.message,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.container {\n\tmin-height: 100vh;\n\tbackground: #ffffff;\n\tpadding: 0;\n}\n\n/* .status-bar {\n\theight: 44px;\n\twidth: 100%;\n} */\n\n.header {\n\tpadding: 30rpx;\n\ttext-align: center;\n\tborder-bottom: 1px solid #f1f3f4;\n}\n\n.title {\n\tfont-size: 36rpx;\n\tfont-weight: 600;\n\tcolor: #2c3e50;\n}\n\n.user-section {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 30rpx;\n\tborder-bottom: 1px solid #f1f3f4;\n}\n\n.user-info {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 20rpx;\n}\n\n.avatar {\n\twidth: 100rpx;\n\theight: 100rpx;\n\tborder-radius: 50%;\n\toverflow: hidden;\n}\n\n.avatar image {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.user-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 10rpx;\n}\n\n.name-level {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 15rpx;\n}\n\n.name {\n\tfont-size: 32rpx;\n\tfont-weight: 600;\n\tcolor: #2c3e50;\n}\n\n.level-badge {\n\tbackground: #dc3545;\n\tpadding: 5rpx 15rpx;\n\tborder-radius: 15rpx;\n}\n\n.level-text {\n\tfont-size: 20rpx;\n\tcolor: #ffffff;\n\tfont-weight: 600;\n}\n\n.user-desc {\n\tfont-size: 24rpx;\n\tcolor: #6c757d;\n}\n\n.user-score {\n\tbackground: #4A90E2;\n\tpadding: 15rpx 25rpx;\n\tborder-radius: 20rpx;\n}\n\n.score-text {\n\tfont-size: 24rpx;\n\tcolor: #ffffff;\n\tfont-weight: 600;\n}\n\n.points-card {\n\tmargin: 30rpx;\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tborder-radius: 20rpx;\n\tpadding: 30rpx;\n\tbox-shadow: 0 8rpx 32rpx rgba(102, 126, 234, 0.3);\n\tcolor: #ffffff;\n}\n\n.points-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 25rpx;\n}\n\n.points-title {\n\tfont-size: 28rpx;\n\tfont-weight: 600;\n\tcolor: #ffffff;\n}\n\n.points-icon {\n\tfont-size: 40rpx;\n\tcolor: #ffffff;\n}\n\n.points-content {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n}\n\n.points-main {\n\ttext-align: center;\n}\n\n.points-number {\n\tfont-size: 48rpx;\n\tfont-weight: bold;\n\tcolor: #ffffff;\n\ttext-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.3);\n}\n\n.points-label {\n\tfont-size: 24rpx;\n\tcolor: rgba(255, 255, 255, 0.9);\n}\n\n.points-stats {\n\tdisplay: flex;\n\tgap: 30rpx;\n}\n\n.points-stat {\n\ttext-align: center;\n}\n\n.stat-number {\n\tfont-size: 28rpx;\n\tfont-weight: bold;\n\tcolor: #ffffff;\n}\n\n.stat-label {\n\tfont-size: 20rpx;\n\tcolor: rgba(255, 255, 255, 0.8);\n}\n\n.stats-cards {\n\tdisplay: flex;\n\tpadding: 30rpx;\n\tgap: 20rpx;\n}\n\n.stat-card {\n\tflex: 1;\n\tpadding: 30rpx 20rpx;\n\tborder-radius: 20rpx;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tgap: 15rpx;\n}\n\n.stat-card.blue {\n\tbackground: #e3f2fd;\n}\n\n.stat-card.green {\n\tbackground: #e8f5e8;\n}\n\n.stat-card.orange {\n\tbackground: #fff3e0;\n}\n\n.stat-title {\n\tfont-size: 22rpx;\n\tcolor: #6c757d;\n\ttext-align: center;\n}\n\n.stat-number {\n\tdisplay: flex;\n\talign-items: baseline;\n\tgap: 5rpx;\n}\n\n.number {\n\tfont-size: 40rpx;\n\tfont-weight: bold;\n\tcolor: #2c3e50;\n}\n\n.unit {\n\tfont-size: 20rpx;\n\tcolor: #6c757d;\n}\n\n.stat-desc {\n\tfont-size: 20rpx;\n\tcolor: #6c757d;\n\ttext-align: center;\n}\n\n.menu-section {\n\tpadding: 0 30rpx;\n}\n\n.menu-item {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 30rpx 0;\n\tborder-bottom: 1px solid #f1f3f4;\n}\n\n.menu-item:last-child {\n\tborder-bottom: none;\n}\n\n.menu-icon {\n\twidth: 60rpx;\n\theight: 60rpx;\n\tborder-radius: 15rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 20rpx;\n}\n\n.menu-icon.blue {\n\tbackground: #e3f2fd;\n}\n\n.menu-icon.orange {\n\tbackground: #fff3e0;\n}\n\n.menu-icon.red {\n\tbackground: #ffebee;\n}\n\n.menu-icon.green {\n\tbackground: #e8f5e8;\n}\n\n.menu-icon.purple {\n\tbackground: #e0e0e0;\n}\n\n.menu-icon.gold {\n\tbackground: #fff9c4;\n}\n\n.icon-text {\n\tfont-size: 32rpx;\n}\n\n.menu-text {\n\tflex: 1;\n\tfont-size: 28rpx;\n\tcolor: #2c3e50;\n\tfont-weight: 500;\n}\n\n.menu-arrow {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.arrow-text {\n\tfont-size: 24rpx;\n\tcolor: #6c757d;\n}\n</style>\n","import MiniProgramPage from '/Users/david/Documents/HBuilderProjects/xiaoma-words/pages/profile/profile.vue'\nwx.createPage(MiniProgramPage)"],"names":["pointsManager","uni"],"mappings":";;;;AAwJA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,YAAY;AAAA,QACX,aAAa;AAAA,QACb,cAAc;AAAA,QACd,YAAY;AAAA,MACb;AAAA,IACD;AAAA,EACA;AAAA,EACD,MAAM,SAAS;AAEd,UAAMA,oBAAAA,cAAc,KAAK;AAGzB,SAAK,eAAe;AAAA,EACpB;AAAA,EACD,SAAS;AAAA,IACR,iBAAiB;AAEhB,WAAK,aAAaA,oBAAa,cAAC,cAAc;AAAA,IAC9C;AAAA,IAED,mBAAmB;AAClBC,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA,IAED,iBAAiB;AAChBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,OACN;AAAA,IACD;AAAA,IAED,gBAAgB;AACfA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,OACN;AAAA,IACD;AAAA,IAED,WAAW;AACVA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,OACN;AAAA,IACD;AAAA,IAED,oBAAoB;AACnBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,aAAa;AAAA,OACb;AAAA,IACD;AAAA,IAED,gBAAgB;AACf,UAAI,KAAK,WAAW,cAAc,KAAK;AACtCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,aAAa;AAAA,SACb;AAAA,aACK;AACNA,sBAAAA,MAAI,WAAW;AAAA,UACd,KAAK;AAAA,SACL;AAAA,MACF;AAAA,IACA;AAAA,IAED,mBAAmB;AAClB,YAAM,SAASD,oBAAa,cAAC,UAAU,KAAK,MAAM;AAElD,UAAI,OAAO,SAAS;AAEnB,cAAM,SAAS;AAAA,UACd,EAAE,MAAM,QAAQ,QAAQ,EAAG;AAAA,UAC3B,EAAE,MAAM,QAAQ,QAAQ,GAAI;AAAA,UAC5B,EAAE,MAAM,QAAQ,QAAQ,GAAI;AAAA,UAC5B,EAAE,MAAM,QAAQ,QAAQ,GAAI;AAAA,UAC5B,EAAE,MAAM,SAAS,QAAQ,IAAI;AAAA,QAC9B;AAEA,cAAM,cAAc,OAAO,KAAK,MAAM,KAAK,OAAS,IAAE,OAAO,MAAM,CAAC;AAEpE,YAAI,YAAY,SAAS,GAAG;AAE3BA,8BAAAA,cAAc,eAAe,eAAe,YAAY;AACxDA,8BAAAA,cAAc,eAAe,gBAAgB,YAAY;AACzDA,8BAAAA,cAAc,cAAc;AAE5BC,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,SAAS,KAAK,YAAY,IAAI;AAAA,OAAWD,oBAAa,cAAC,eAAe,WAAW;AAAA,YACjF,YAAY;AAAA,YACZ,aAAa;AAAA,WACb;AAAA,eACK;AACNC,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,SAAS,uBAAuB,OAAO;AAAA,YACvC,YAAY;AAAA,YACZ,aAAa;AAAA,WACb;AAAA,QACF;AAGA,aAAK,eAAe;AAAA,aACd;AACNA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO,OAAO;AAAA,UACd,MAAM;AAAA,SACN;AAAA,MACF;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;AC/QA,GAAG,WAAW,eAAe;"}